---
title: C6242
description: Microsoft C/C++ derleyicisi uyarı C6242 açıklar.
ms.date: 08/24/2020
ms.topic: reference
f1_keywords:
- C6242
helpviewer_keywords:
- C6242
ms.assetid: 523d46ce-8370-434c-a752-2e3a18cca9a5
ms.openlocfilehash: a7b2b16689314c06afc47937cabc7c77dfb9f91e
ms.sourcegitcommit: efc8c32205c9d610f40597556273a64306dec15d
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/26/2020
ms.locfileid: "88898654"
---
# <a name="c6242"></a>C6242

> Uyarı C6242: Bu try bloğundan bir geç, yerel geri yüklemeye zorlar. Önemli performans cezası

Bu uyarı, bir atlamanın, denetim akışının, bir diğerinin korunan bloğunu Fall ile bırakmasını sağlar `try-finally` .

`try-finally`Son deyimden başka bir korumalı bloğunun, son deyimin üzerinden düşmesini engellemek için yerel geriye doğru geçiş yapılması gerekir. Yerel geriye doğru izleme, genellikle yaklaşık 1000 makine yönergesi gerektirir, bu nedenle performansı geri alabilir.

**`__leave`** Try-finally ' i korunan bloğundan çıkmak için kullanın.

## <a name="example"></a>Örnek

Aşağıdaki kod bu uyarıyı oluşturur:

```cpp
#include <malloc.h>
void DoSomething(char *p); // function can throw exception

int f( )
{
   char *ptr = 0;
   __try
   {
      ptr = (char*) malloc(10);
      if ( !ptr )
      {
         return 0;   //Warning: 6242
      }
      DoSomething( ptr );
   }
   __finally
   {
      free( ptr );
   }
   return 1;
}
```

Bu uyarıyı düzeltmek için **`__leave`** aşağıdaki kodda gösterildiği gibi kullanın:

```cpp
#include <malloc.h>
void DoSomething(char *p);
int f()
{
   char *ptr = 0;
   int retVal = 0;

   __try
   {
      ptr = (char *) malloc(10);
      if ( !ptr )
      {
         retVal = 0;
         __leave;   //No warning
      }
      DoSomething( ptr );
      retVal = 1;
   }
   __finally
   {
      free( ptr );
   }

   return retVal;
}
```

' Nin kullanımı `malloc` ve `free` bellek sızıntıları ve özel durumlar açısından birçok gizli dizi vardır. Bu tür sızıntıları ve özel durum sorunlarını tamamen önlemek için, C++ standart kitaplığı tarafından sunulan mekanizmaları kullanın. Bunlar [`shared_ptr`](/cpp/standard-library/shared-ptr-class) , [`unique_ptr`](/cpp/standard-library/unique-ptr-class) ve içerir [`vector`](/cpp/standard-library/vector) . Daha fazla bilgi için bkz. [akıllı işaretçiler](/cpp/cpp/smart-pointers-modern-cpp) ve [C++ standart kitaplığı](/cpp/standard-library/cpp-standard-library-reference).

## <a name="see-also"></a>Ayrıca bkz.

[`try-except` Ekstre](/cpp/cpp/try-except-statement)\
[`try-finally` Ekstre](/cpp/cpp/try-finally-statement)
