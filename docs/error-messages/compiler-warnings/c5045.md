---
title: Derleyici Uyarısı C5045 | Microsoft Docs
ms.custom: ''
ms.date: 06/21/2018
ms.technology:
- cpp-diagnostics
ms.topic: error-reference
dev_langs:
- C++
helpviewer_keywords:
- C5045
author: corob-msft
ms.author: corob
ms.workload:
- cplusplus
ms.openlocfilehash: 1979d0de5f698c57c8c0dc7b9790335543c6e30a
ms.sourcegitcommit: 913c3bf23937b64b90ac05181fdff3df947d9f1c
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/18/2018
ms.locfileid: "46073869"
---
# <a name="compiler-warning-c5045"></a>Derleyici Uyarısı C5045

> Derleyici/qspectre anahtarı Bellek Yükü belirtilen için Spectre risk azaltma ekler

## <a name="remarks"></a>Açıklamalar

C5045 sağlar gördüğünüz hangi desenleri, kodunuzda bir LFENCE gibi bir Spectre risk azaltma neden uyarı olduğunda eklenecek [/qspectre](../../build/reference/qspectre.md) derleyici seçeneği belirtildi. Bu, hangi kod dosyaları güvenlik sorundan etkilenen tanımlamanıza olanak sağlar. Bu yalnızca bilgi amaçlı bir uyarıdır: kullanarak derleyin kadar azaltma eklenmez **/qspectre** geçin. C5045 işlevselliğini bağımsızdır **/qspectre** geçiş her ikisinin de aynı derlemede kullanabilirsiniz.

Bu uyarı, Visual Studio 2017 sürüm 15.7 sürümünde yenidir ve varsayılan olarak kapalıdır. Kullanım [/Wall](../../build/reference/compiler-option-warning-level.md) varsayılan olarak kapalı olan tüm uyarıları etkinleştirmek için veya __/w__*n*__5038__ C5045 düzey olarak etkinleştirmek için *n* uyarı. IDE'de varsayılan uyarı düzeyidir **/W3** ve bu uyarıyı projesinde etkin hale getirilebilir **özellik sayfaları** iletişim. Açık **yapılandırma özellikleri** > **C/C++** > **komut satırı** ve **ek seçenekler** kutusunda */w35045*, ardından **Tamam**. Daha fazla bilgi için [varsayılan olarak kapalı olan derleyici uyarıları](../../preprocessor/compiler-warnings-that-are-off-by-default.md). Derleyici sürümü ile uyarıları devre dışı bırakma hakkında daha fazla bilgi için bkz: [derleyici sürümüne göre derleyici uyarıları](compiler-warnings-by-compiler-version.md).

## <a name="example"></a>Örnek

Aşağıdaki örnek, uyarı ile Visual Studio 2017 sürüm 15.7 tarafından derlendiğinde C5045 başlatır **/Wall** veya **/w35045** ve **/W3** seçenekleri:

```cpp
// C5045.cpp
// Compile with: cl /EHsc /W3 /w35045 C5045.cpp

int G, G1, G2;

__forceinline
int * bar(int **p, int i)
{
    return p[i];
}

__forceinline
void bar1(int ** p, int i)
{
    if (i < G1) {
        auto x = p[i]; // C5045: mitigation here
        G = *x;
    }
}

__forceinline
void foo(int * p)
{
    G = *p;
}

void baz(int ** p, int i)
{
    if (i < G1) {
        foo(bar(p, i + G2));
    }
    bar1(p, i);
}

int main() { }
```

Uyarı etkinleştirildiğinde Derleyici çıktısı şuna benzer:

```Output
C:\Users\username\source\repos\C5045>cl /W3 /w35045 C5045.cpp
Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26431 for x86
Copyright (C) Microsoft Corporation.  All rights reserved.

C5045.cpp
c:\users\username\source\repos\c5045\c5045.cpp(16) : warning C5045: Compiler will insert Spectre mitigation for memory load if /Qspectre switch specified
c:\users\username\source\repos\c5045\c5045.cpp(15) : note: index 'i' range checked by comparison on this line
c:\users\username\source\repos\c5045\c5045.cpp(17) : note: feeds memory load on this line
Microsoft (R) Incremental Linker Version 14.14.26431.0
Copyright (C) Microsoft Corporation.  All rights reserved.

/out:C5045.exe
C5045.obj
```

Bir risk azaltma 16 satırında eklenmiş, uyarı iletilerini göster. 15. satırı dizini i Bellek Yükü 17 satırında akışları nedeniyle risk azaltma gereklidir notlar. Spekülasyon üzerinden yapılır çubuğu ve bar1 ancak azaltma satırında 16 yerleştirildiğinde etkilidir.

## <a name="see-also"></a>Ayrıca bkz.

[Kurgusal Yürütme Yan Kanalları için C++ Geliştirici Kılavuzu](../../security/developer-guidance-speculative-execution.md)<br/>
[/Qspectre](../../build/reference/qspectre.md)<br/>
[spectre](../../cpp/spectre.md)
